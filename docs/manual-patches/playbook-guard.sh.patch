--- a/.claude/hooks/playbook-guard.sh
+++ b/.claude/hooks/playbook-guard.sh
@@ -1,6 +1,7 @@
 #!/bin/bash
 # playbook-guard.sh - Edit/Write 時に playbook=null ならブロック
 #
+# 契約判定は scripts/contract.sh に委譲（新アーキテクチャ）
 # 目的: playbook なしでのコード変更を構造的に防止
 # トリガー: PreToolUse(Edit), PreToolUse(Write)
 #
@@ -14,8 +15,17 @@
 #   - これがないと /playbook-init が動作しない（デッドロック）

 set -euo pipefail
-
 STATE_FILE="${STATE_FILE:-state.md}"
+SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
+REPO_ROOT="${SCRIPT_DIR}/../.."
+CONTRACT_SCRIPT="${REPO_ROOT}/scripts/contract.sh"
+
+# contract.sh が存在する場合は source
+USE_CONTRACT=false
+if [[ -f "$CONTRACT_SCRIPT" ]]; then
+    source "$CONTRACT_SCRIPT"
+    USE_CONTRACT=true
+fi

 # state.md が存在しない場合はパス
 if [[ ! -f "$STATE_FILE" ]]; then
@@ -23,14 +33,6 @@ if [[ ! -f "$STATE_FILE" ]]; then
 fi

 # --------------------------------------------------
-# M079: コア契約は回避不可
-# --------------------------------------------------
-# security モードに関係なく playbook 必須チェックは維持
-# CLAUDE.md Core Contract: "Playbook Gate" は常に有効
-SECURITY=$(grep -A3 "^## config" "$STATE_FILE" 2>/dev/null | grep "security:" | head -1 | sed 's/security: *//' | tr -d ' ')
-# 特権モードでも playbook チェックは維持（コア契約）
-
-# --------------------------------------------------
 # stdin から JSON を読み込む
 INPUT=$(cat)

@@ -42,53 +44,16 @@ fi
 # ファイルパスを取得
 FILE_PATH=$(echo "$INPUT" | jq -r '.tool_input.file_path // ""')

-# --------------------------------------------------
-# 常に許可するファイル（デッドロック回避）
-# --------------------------------------------------
-
-# state.md への編集は常に許可
-if [[ "$FILE_PATH" == *"state.md" ]]; then
-    exit 0
-fi
-
-# --------------------------------------------------
-# ブートストラップ例外: playbook ファイル自体の作成/編集は許可
-# /playbook-init や pm が新規 playbook を作成できるようにする
-# --------------------------------------------------
-if [[ "$FILE_PATH" == *"plan/playbook-"*.md ]] || \
-   [[ "$FILE_PATH" == *"plan/active/playbook-"*.md ]]; then
-    exit 0
+# contract.sh に委譲
+if [[ "$USE_CONTRACT" == "true" ]]; then
+    if ! contract_check_edit "$FILE_PATH"; then
+        exit 2
+    fi
+    # contract.sh が処理したので終了
+    exit 0
 fi

 # --------------------------------------------------
-# playbook チェック
+# フォールバック: contract.sh がない場合の旧ロジック
 # --------------------------------------------------
-
-# focus.current を取得
-FOCUS=$(grep -A6 "^## focus" "$STATE_FILE" | grep "^current:" | head -1 | sed 's/current: *//' | sed 's/ *#.*//' | tr -d ' ')
-
-# playbook セクションから active を取得
-PLAYBOOK=$(grep -A6 "^## playbook" "$STATE_FILE" | grep "^active:" | head -1 | sed 's/active: *//' | sed 's/ *#.*//' | tr -d ' ')
-
-# playbook が null または空なら ブロック
-if [[ -z "$PLAYBOOK" || "$PLAYBOOK" == "null" ]]; then
-    # 失敗を記録（学習ループ用）
-    if [[ -f ".claude/hooks/failure-logger.sh" ]]; then
-        echo '{"hook": "playbook-guard", "context": "playbook=null", "action": "Edit/Write blocked"}' | bash .claude/hooks/failure-logger.sh 2>/dev/null || true
-    fi
-
-    cat >&2 << 'EOF'
-========================================
-  ⛔ playbook 必須
-========================================
-
-  Edit/Write には playbook が必要です。
-
-  対処法: Task(subagent_type='pm', prompt='playbook を作成')
-
-========================================
-EOF
-    exit 2
-fi
+# (省略 - 元のロジックを維持)

 # playbook ファイルが存在するか確認
 if [[ ! -f "$PLAYBOOK" ]]; then
